{"version":3,"sources":["webpack:///webpack/bootstrap a1a5e0eec1edfb6f89e7","webpack:///external \"express\"","webpack:///./server/config/index.js","webpack:///./server/index.js","webpack:///external \"nuxt\"","webpack:///./server/middlewares.js","webpack:///external \"serve-favicon\"","webpack:///external \"body-parser\"","webpack:///./server/routes.js","webpack:///./nuxt.config.js"],"names":["app","name","server","port","staticDir","root","session","secretKey","express","host","process","env","HOST","PORT","config","set","middlewares","configNuxt","require","dev","nuxt","Nuxt","builder","Builder","build","use","render","listen","console","log","static","favicon","bodyParser","json","routes","req","res","next","body","undefined","status","data","err","message","router","Router","get","output","route","Error","module","exports","head","title","meta","charset","content","hid","link","rel","type","href","loading","color","extend","isDev","isClient","rules","push","enforce","test","loader","exclude"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a1a5e0eec1edfb6f89e7","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","export default {\n  app: {\n    name: 'ancloud',\n  },\n  server: {\n    port: 3000\n  },\n  staticDir: {\n    root: './static',\n  },\n  session: {\n    secretKey: 'something'\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./server/config/index.js","import express from 'express'\nimport { Nuxt, Builder } from 'nuxt'\nimport config from './config'\nimport middlewares from './middlewares'\n\nconst app = express()\nconst host = process.env.HOST || '127.0.0.1'\nconst port = process.env.PORT || config.server.port\n\napp.set('port', port)\n\n// Middlewares are imported here.\nmiddlewares(app)\n\n// Import and Set Nuxt.js options\nlet configNuxt = require('../nuxt.config.js')\nconfigNuxt.dev = !(process.env.NODE_ENV === 'production')\n\n// Init Nuxt.js\nconst nuxt = new Nuxt(configNuxt)\n\n// Build only in dev mode\nif (configNuxt.dev) {\n  const builder = new Builder(nuxt)\n  builder.build()\n}\n\n// Give nuxt middleware to express\napp.use(nuxt.render)\n\n// Listen the server\napp.listen(port, host)\nconsole.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 3\n// module chunks = 0","import express from 'express'\nimport favicon from 'serve-favicon'\nimport bodyParser from 'body-parser'\nimport config from './config'\nimport routes from './routes'\n\nexport default (app) => {\n\n  app.use(express.static(config.staticDir.root))\n  app.use(favicon(config.staticDir.root + '/favicon.ico'))\n  app.use(bodyParser.json())\n\n  app.use('/api', routes())\n\n  // Handle 200.\n  // Or you can use express-mung to intercept the response body. Read this post for how to:\n  // https://ciphertrick.com/2016/04/04/express-middleware-to-intercept-response-body/\n  app.use((req, res, next) => {\n    if (res.body !== undefined) {\n      res.body = {\n        status: 200,\n        data: res.body\n      }\n      res.json(res.body)\n    } else {\n      next()\n    }\n  })\n\n  // Handle error - 404, 500, etc.\n  // http://expressjs.com/en/guide/error-handling.html\n  app.use((err, req, res, next) => {\n    res.body = {\n      status: err.status,\n      message: err.message\n    }\n    res.status(err.status || 500)\n    res.json(res.body)\n  })\n}\n\n\n// WEBPACK FOOTER //\n// ./server/middlewares.js","module.exports = require(\"serve-favicon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-favicon\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 6\n// module chunks = 0","'use strict'\n\nimport { Router } from 'express'\n\nconst router = Router()\n\nexport default () => {\n\n  // Home page.\n  router.get('/', (req, res, next) => {\n    var output = {\n      message: 'Hello World!'\n    }\n    res.body = output\n    next()\n  })\n\n\n  // Handle routes not found.\n  // https://stackoverflow.com/questions/38681318/express-4-middleware-when-route-is-not-found-finalhandler-not-called-how-to-c\n  router.use(function(req, res, next) {\n    if (!req.route) {\n      var err = new Error('Route Not Found')\n      err.status = 404\n      return next(err)\n    }\n    next()\n  })\n\n  return router\n}\n\n// export default router\n\n\n// WEBPACK FOOTER //\n// ./server/routes.js","module.exports = {\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: 'ancloud',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n      { hid: 'description', name: 'description', content: 'Nuxt.js project' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n  },\n  /*\n  ** Customize the progress bar color\n  */\n  loading: { color: '#3B8070' },\n  /*\n  ** Build configuration\n  */\n  build: {\n    /*\n    ** Run ESLint on save\n    */\n    extend (config, { isDev, isClient }) {\n      if (isDev && isClient) {\n        config.module.rules.push({\n          enforce: 'pre',\n          test: /\\.(js|vue)$/,\n          loader: 'eslint-loader',\n          exclude: /(node_modules)/\n        })\n      }\n    }\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js"],"sourceRoot":""}